<!DOCTYPE html><html lang='en'><head prefix="og: http://ogp.me/ns/article#"><meta charset='utf-8'><title>Manipulate Clipboards with Regular Expression | Sayz Lim</title><meta name="description" content="Learn the basic regular expression and manipulate clipboards with Keyboard Maestro."><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="/main.css?v=1615803180" as="style"><link rel="stylesheet" href="/main.css?v=1615803180" ><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Viga&family=Karla:wght@300;400;500;600&display=swap" rel="stylesheet"><link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/img/favicon-96x96.png" sizes="96x96"><link rel="apple-touch-icon" sizes="56x56" href="/img/apple-touch-icon-56x56.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><meta name="twitter:dnt" content="on"><meta name="format-detection" content="telephone=no"><link rel="alternate" type="application/rss+xml" title="Sayz Lim" href="https://sayzlim.net/atom.xml" /><meta property="og:title" content="Manipulate Clipboards with Regular Expression" /><meta property="og:type" content="article" /><meta property="og:url" content="https://sayzlim.net/clipboards-regular-expression/" /><meta property="og:description" content="Learn the basic regular expression and manipulate clipboards with Keyboard Maestro." /><meta property="article:published_time" content="2014-10-15" /><meta property="article:author" content="Sayz Lim" /><meta property="og:image" content="https://images.sayzlim.net/2014/10/regex_alternation.jpg" /><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@sayzlim"><meta name="twitter:title" content="Manipulate Clipboards with Regular Expression"><meta name="twitter:description" content="Learn the basic regular expression and manipulate clipboards with Keyboard Maestro."><meta name="twitter:image:src" content="https://images.sayzlim.net/2014/10/regex_alternation.jpg"><link rel="pingback" href="https://webmention.io/sayzlim.net/xmlrpc"><link rel="webmention" href="https://webmention.io/sayzlim.net/webmention"><body><div class="container"><header class="header"><nav class="nav-item"><ul><li><a href="/">Home</a><li><a href="/posts/">Posts</a><li><a href="/tags/">Tags</a><li><a href="/tools/">Tools</a></ul></nav></header><main class="prose flow"><section class="post" itemscope itemtype="https://schema.org/BlogPosting"><header class="flow"><h1 itemprop="headline"> <a itemprop="url" href="/clipboards-regular-expression/">Manipulate Clipboards with Regular Expression</a></h1><div class="post-author"><div class="post-avatar"><img src="/img/sayzlim.jpg" alt="Sayz Lim"><span class="schema-author" itemprop="author" itemprop="publisher">Sayz Lim</span></div><div class="post-date"> <span>Published</span> <time itemprop="datePublished" datetime="2014-10-15">Oct 15, 2014</time></div><div class="post-date"> <span>Last Updated</span> <time itemprop="dateModified" datetime="2020-05-06">May 06, 2020</time></div><div class="post-tag"> <span>Tagged</span><ul class="post-tags"><li><a href="/tag/keyboard-maestro">Keyboard Maestro</a><li><a href="/tag/regex">RegEx</a></ul></div></div></header><article itemprop="articleBody" class="flow"><p>One of the Keyboard Maestro’s feature that I didn’t mention in <a href="https://sayzlim.net/building-keyboard-maestro-macros-tips" title="Building Keyboard Maestro Macros Tips - Sayz Lim">building macro tips</a> is the ability to search and replace clipboards with regular expression. What is a regular expression, and how does it help you to manipulate clipboards?</p><p>The typical pattern to manipulate clipboards is the search and replace feature that lets you replace the clipboards without using a text editor. But there is a limit of how much you can manipulate clipboards by searching and replacing an exact match word. This is where regular expression can solve the common obstacle we have in manipulating string: matching complex patterns.</p><h2 id="understanding-regular-expression">Understanding Regular Expression</h2><p>A regular expression is a text-matching technology. It’s the same as the <strong>Find &amp; Replace</strong> feature you use in TextEdit. The only difference with a regular expression is you can have more options to match different kinds of text patterns.</p><p>We’ll be using <a href="https://www.regexr.com/" title="RegExr: Learn, Build, &amp; Test RegEx">RegExr</a> to test the regular expression in the example thorough this guide (feel free to experiment with the regular expression as you read each section). You may use the cheatsheet and examples on RegExr to help you understand regular expression syntax.</p><p>This guide addresses the fundamental of a regular expression. Once you finish this, you should be able to write a decent regular expression to manipulate clipboards, extract the matched string, and assign it as a variable in Keyboard Maestro.</p><h2 id="pipe--for-the-alternation">Pipe (|) for the alternation</h2><p><a href="https://images.sayzlim.net/2014/10/regex_alternation.jpg" title="Regular Expression: Alternation"> <img src="https://images.sayzlim.net/2014/10/regex_alternation.jpg" alt="Regular Expression: Alternation" title="Regular Expression: Alternation" /> </a></p><p>When you need to match one or more patterns, you can use a pipe for alternation. You can have more than one pipe under one regular expression. If you want to match multiple email addresses, you can use <code class="language-plaintext highlighter-rouge">list@gmail.com|home@gmail.com|work@gmail.com</code> as an expression.</p><h2 id="parenthesis--or--for-grouping">Parenthesis ( or ) for grouping</h2><p><a href="https://images.sayzlim.net/2014/10/regex_grouping.jpg" title="Regular Expression: Grouping"> <img src="https://images.sayzlim.net/2014/10/regex_grouping.jpg" alt="Regular Expression: Grouping" title="Regular Expression: Grouping" /> </a></p><p>What if you want to match “My favorite fruit is banana” or “My favorite fruit is apple”? You can write the regular expression as <code class="language-plaintext highlighter-rouge">My favorite fruit is apple|My favorite fruit is banana</code> to match the sentence above, but you can also use parenthesis to group these two words together. The rewritten regular expression is <code class="language-plaintext highlighter-rouge">My favorite fruit is (apple|banana)</code>.</p><h2 id="bracket--or--for-character-sets">Bracket ([ or ]) for character sets</h2><p><a href="https://images.sayzlim.net/2014/10/regex_sets.jpg" title="Regular Expression: Sets"> <img src="https://images.sayzlim.net/2014/10/regex_sets.jpg" alt="Regular Expression: Sets" title="Regular Expression: Sets" /> </a></p><p>Character set matches any character inside the scope of brackets. Using <code class="language-plaintext highlighter-rouge">[fun]</code> as regular expression matches any text that has <code class="language-plaintext highlighter-rouge">f</code>, <code class="language-plaintext highlighter-rouge">u</code>, or <code class="language-plaintext highlighter-rouge">n</code>. The character set is useful when you need to match a specific pattern that carries a range of characters, such as numbers or lowercase letters. If you want to match <code class="language-plaintext highlighter-rouge">id9829747</code>, you can simply write the regular expression as <code class="language-plaintext highlighter-rouge">id[0123456789]</code> or use the simplified version as <code class="language-plaintext highlighter-rouge">id[0-9]</code>. The use of the dash in the bracket is known as character range. You can also use <code class="language-plaintext highlighter-rouge">[a-zA-Z]</code> to match the lowercase and uppercase alphabet.</p><h2 id="period--to-match-any-character">Period (.) to match any character</h2><p><a href="https://images.sayzlim.net/2014/10/regex_period.jpg" title="Regular Expression: Period"> <img src="https://images.sayzlim.net/2014/10/regex_period.jpg" alt="Regular Expression: Period" title="Regular Expression: Period" /> </a></p><p>Sometimes you want to match the words with a slightly different variations. This regular expression <code class="language-plaintext highlighter-rouge">l..k</code> matches text that has any two characters between <code class="language-plaintext highlighter-rouge">l</code> and <code class="language-plaintext highlighter-rouge">k</code> such as <code class="language-plaintext highlighter-rouge">look</code>, <code class="language-plaintext highlighter-rouge">leek</code>, and <code class="language-plaintext highlighter-rouge">link</code>.</p><p>People often mistype my name Sutanto as Susanto. I can use this regular expression <code class="language-plaintext highlighter-rouge">su.anto</code> to match any incoming emails that contain Sutanto, Sumanto, Susanto, with a single expression instead of using alternation.</p><h2 id="asterisk--and-plus-sign--for-repetition">Asterisk (*) and Plus Sign (+) for repetition</h2><p>Asterisk and plus sign are quantifiers. They determine the number of times the precedented pattern should repeat itself. You‘ll find yourself using it along with a period to match long patterns such as URL, sentence, or paragraph.</p><p>An asterisk matches the precedented character, character set, or group zero time or more. The regular expression <code class="language-plaintext highlighter-rouge">run*ing</code> marks the precedented character <code class="language-plaintext highlighter-rouge">n</code> as optional, but still matches the text that carries the character more than once, such as <code class="language-plaintext highlighter-rouge">ruining</code> or <code class="language-plaintext highlighter-rouge">runnnnning</code>.</p><p>Plus sign matches the precedented character, character set, or group once or more. Replacing the asterisk in the previous regular expression into <code class="language-plaintext highlighter-rouge">run+ing</code> marks the precedented character <code class="language-plaintext highlighter-rouge">n</code> as necessary. The new regular expression will only match <code class="language-plaintext highlighter-rouge">runing</code> or <code class="language-plaintext highlighter-rouge">running</code>, but not <code class="language-plaintext highlighter-rouge">ruining</code>.</p><p><a href="https://images.sayzlim.net/2014/10/regex_repetition.jpg" title="Regular Expression: Repetition"> <img src="https://images.sayzlim.net/2014/10/regex_repetition.jpg" alt="Regular Expression: Repetition" title="Regular Expression: Repetition" /> </a></p><p>Keyboard Maestro has a feature to search clipboard by a regular expression and assign it as a variable. Combining quantifiers allows you to extract part of the text that you can use as a variable or combine it into a different clipboard. Let’s say I want to obtain the name of the application from:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://itunes.apple.com/us/app/dash-docs-snippets/id458034879
</code></pre></div></div><p>I can write a regular expression <code class="language-plaintext highlighter-rouge">/app/.+/</code> to get <code class="language-plaintext highlighter-rouge">/app/dash-docs-snippets/</code>. I can clean up the extracted clipboard by replacing the initial <code class="language-plaintext highlighter-rouge">/app/</code> and ending <code class="language-plaintext highlighter-rouge">/</code> with an empty character. The end result will be <code class="language-plaintext highlighter-rouge">dash-docs-snippets</code>, which I can append as a campaign term for the tracking purpose.</p><h2 id="caret--to-match-the-beginning-of-line">Caret (^) to match the beginning of line</h2><p><a href="https://images.sayzlim.net/2014/10/regex_caret.jpg" title="Regular Expression: Caret"> <img src="https://images.sayzlim.net/2014/10/regex_caret.jpg" alt="Regular Expression: Caret" title="Regular Expression: Caret" /> </a></p><p>Caret is useful when you want to replace only the beginning part of each line item and leave the rest of the text intact. I used to copy the description from Excel spreadsheet, which contains a lot of description with duplicate apostrophes at the beginning and end of the line like this one:</p><blockquote><p>”””"”Somewhere mine is not working”, she said.”””””</p></blockquote><p>I want to clean up the duplicate apostrophe. Using caret to mark the beginning of the line, I write this regular expression <code class="language-plaintext highlighter-rouge">^""+</code> to match the description that has more than two apostrophes at the beginning of the line. Once detected, I just need to replace it with single apostrophe which turns the clipboard into:</p><blockquote><p>“Somewhere mine is not working”, she said.”””””</p></blockquote><h2 id="dollar-sign--to-match-end-of-line">Dollar Sign ($) to match end of line</h2><p><a href="https://images.sayzlim.net/2014/10/regex_dollar_sign.jpg" title="Regular Expression: Dollar Sign"> <img src="https://images.sayzlim.net/2014/10/regex_dollar_sign.jpg" alt="Regular Expression: Dollar Sign" title="Regular Expression: Dollar Sign" /> </a></p><p>Following the previous example, the end of the sentence also has duplicate apostrophes. I can use a dollar sign to match only the end of the sentence using this expression <code class="language-plaintext highlighter-rouge">""+$</code>.</p><p>You can combine these two expressions into one with alternation, which is <code class="language-plaintext highlighter-rouge">^""+|""+$</code> and replace the detected text with a single apostrophe. Run the macro, and I‘ll have a cleaned up clipboard as following:</p><blockquote><p>“Somewhere mine is not working”, she said.”</p></blockquote><h2 id="backslash--to-escape-special-characters">Backslash (\) to escape special characters</h2><p><a href="https://images.sayzlim.net/2014/10/regex_backslash.jpg" title="Regular Expression: Backslash"> <img src="https://images.sayzlim.net/2014/10/regex_backslash.jpg" alt="Regular Expression: Backslash" title="Regular Expression: Backslash" /> </a></p><p>The most common regular expression method to escape the special character that I’ve listed here is by prepending it with a backslash (\). For example, when you need a regular expression to match period, you can enter the expression as <code class="language-plaintext highlighter-rouge">\.</code>. This is useful when you need to match URLs or sentences that contain a period.</p><p>Here are some typical special characters you’ll often use in matching text.</p><ul><li><code class="language-plaintext highlighter-rouge">\n</code> matches new line<li><code class="language-plaintext highlighter-rouge">\t</code> matches tab<li><code class="language-plaintext highlighter-rouge">\r</code> matches carriage return</ul><h2 id="conclusion">Conclusion</h2><p>This guide merely scratches the surface of a regular expression that deals with clipboard manipulation. The point for me to write this guide is to help you get started using <strong>Search Clipboard with Regular Expression</strong> action in Keyboard Maestro. With regular expression, you have more choices when dealing with clipboards. I hope you can create some awesome macros with this new knowledge.</p></article></section><aside class="related-posts"><h5>Related Posts</h5><div class="related-box"><div class="related-card"><div class="related-date">May 19, 2022</div><a href="/text-expansion-keyboard-maestro/"><div class="related-title">Text Expansion with Keyboard Maestro</div><div class="related-desc">Tips to use Keyboard Maestro as the main tool to expand most frequently used words.</div></a><ul class="excerpt-tags"><li><a href="/tag/keyboard-maestro">Keyboard Maestro</a><li><a href="/tag/textexpander">TextExpander</a></ul></div><div class="related-card"><div class="related-date">Mar 23, 2021</div><a href="/default-window-size-keyboard-maestro/"><div class="related-title">How to Set Default Window Size on Mac with Keyboard Maestro</div><div class="related-desc">Learn the easiest way to set a default window size for your Mac applications with this Keyboard Maestro macro.</div></a><ul class="excerpt-tags"><li><a href="/tag/keyboard-maestro">Keyboard Maestro</a></ul></div><div class="related-card"><div class="related-date">May 27, 2020</div><a href="/quick-calculation-keyboard-maestro-macro/"><div class="related-title">Quick Calculation Keyboard Maestro Macro</div><div class="related-desc">Here's how you can calculate numbers while typing with Keyboard Maestro Macro.</div></a><ul class="excerpt-tags"><li><a href="/tag/keyboard-maestro">Keyboard Maestro</a></ul></div><div class="related-card"><div class="related-date">May 16, 2020</div><a href="/quick-find-replace-macro/"><div class="related-title">Quick Find and Replace Keyboard Maestro Macro</div><div class="related-desc">You can replace selected text quickly without using another text editor.</div></a><ul class="excerpt-tags"><li><a href="/tag/keyboard-maestro">Keyboard Maestro</a></ul></div></div></aside></main><aside class="sidebar"><div class="sticky-box"> <form class="form" action="https://app.convertkit.com/forms/2056450/subscriptions" method="post" data-sv-form="2056450" data-uid="c249fe0755" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;: &quot;redirect&quot;,&quot;redirect_url&quot;: &quot;https://sayzlim.net/welcome/&quot;}}}"> <label for="name">First Name</label> <input type="text" value="" name="fields[first_name]" placeholder="First Name" id="name" required> <label for="email">Email</label> <input type="email" value="" name="email_address" placeholder="Email Address" id="email" required> <button class="subscribe">Subscribe</button> </form><div class="sidebar-promo form"><p>Download CleanMyMac X, CleanShot X, and ClearVPN and other 30++ macOS applications for only $9.99/month.<br><a href="/is-setapp-worth-it/">Read More</a></p></div><div class="carbon-box"> <script async src="//cdn.carbonads.com/carbon.js?serve=CKYIC2JI" id="_carbonads_js"></script></div></div></aside><footer class="footer"> &copy; 2010–2022 Sayz Lim | Powered by <a href="https://jekyllrb.com" title="Jekyll">Jekyll</a> and <a href="https://pages.github.com" title="GitHub Pages">GitHub Pages</a></footer></div>
