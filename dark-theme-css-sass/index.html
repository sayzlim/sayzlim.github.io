<!DOCTYPE html><html lang='en'><head prefix="og: http://ogp.me/ns/article#"><meta charset='utf-8'><title>How to add dark theme with Sass and CSS variables | Sayz Lim</title><meta name="description" content="Learn how to store your design tokens with Sass and apply dark them with CSS variables."><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="/main.css?v=1716660480" as="style"><link rel="stylesheet" href="/main.css?v=1716660480" > <script src="/main.js?v=1716660480"></script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Viga&family=Karla:wght@300;400;500;600&display=swap" rel="stylesheet"><link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/img/favicon-96x96.png" sizes="96x96"><link rel="apple-touch-icon" sizes="56x56" href="/img/apple-touch-icon-56x56.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><meta name="twitter:dnt" content="on"><meta name="format-detection" content="telephone=no"><link rel="alternate" type="application/rss+xml" title="Sayz Lim" href="https://sayzlim.net/atom.xml" /><meta property="og:title" content="How to add dark theme with Sass and CSS variables" /><meta property="og:type" content="article" /><meta property="og:url" content="https://sayzlim.net/dark-theme-css-sass/" /><meta property="og:description" content="Learn how to store your design tokens with Sass and apply dark them with CSS variables." /><meta property="article:published_time" content="2022-08-15" /><meta property="article:author" content="Sayz Lim" /><meta property="og:image" content="https://images.sayzlim.net/2022/08/dark-theme-sayzlim.webp" /><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@sayzlim"><meta name="twitter:title" content="How to add dark theme with Sass and CSS variables"><meta name="twitter:description" content="Learn how to store your design tokens with Sass and apply dark them with CSS variables."><meta name="twitter:image:src" content="https://images.sayzlim.net/2022/08/dark-theme-sayzlim.webp"><link rel="pingback" href="https://webmention.io/sayzlim.net/xmlrpc" /><link rel="webmention" href="https://webmention.io/sayzlim.net/webmention" /> <script async src="https://stats.sayzlim.net/script.js" data-website-id="35992e34-11d0-4168-8d6c-4a4c796417ef" ></script><body><div class="container"><header class="header"><nav class="nav-item"><ul><li><a href="/" >Home</a><li><a href="/posts/" >Posts</a><li><a href="/tags/" >Tags</a><li><a href="/tools/" >Tools</a><li></ul></nav><aside class="select-theme"> <button onclick="_manager.resetUserTheme()" aria-label="Enable System Theme"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> </button> <button onclick="_manager.setTheme('light')" aria-label="Enable Light Theme"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg> </svg> </button> <button onclick="_manager.setTheme('dark')" aria-label="Enable Dark Theme"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg> </button></aside></header><div class="layout:sidebar"><main class="posts flow"><section class="post flow" itemscope itemtype="https://schema.org/BlogPosting"><header class="flow"><h1 itemprop="headline"> <a itemprop="url" href="/dark-theme-css-sass/">How to add dark theme with Sass and CSS variables</a></h1><div class="post-author"><div class="post-avatar"><img src="/img/sayzlim.jpg" alt="Sayz Lim"><span class="schema-author" itemprop="author" itemprop="publisher">Sayz Lim</span></div><div class="post-date"> <span>Published</span> <time itemprop="datePublished" datetime="2022-08-15">Aug 15, 2022</time></div><div class="post-tag"> <span>Tagged</span><ul class="post-tags"><li><a href="/tag/css">CSS</a></ul></div></div></header><article itemprop="articleBody" class="flow"><p>A few weeks ago, I added an option to toggle between dark and light themes to this blog. After exploring some options, I decide to store the color tokens with Sass and assign them to CSS variables.</p><h2 id="setting-up-design-tokens">Setting Up Design Tokens</h2><p>Design tokens are values you use for your design system. It serves as a guideline to keep your brand overall feel consistent.</p><p>If you’ve been hardcoding the color values in the CSS, you want to set those colors with CSS variables so you can reuse them in your CSS file.</p><p>For a personal project where you’re the sole author, the design token name formats are flexible as long they make sense to you. I usually choose a few base colors and play around with the opacity value.</p><p class="sidenote"><strong>Color Picking Tips</strong> — You can adjust the lightness in the LCH value if you want something lighter or darker. You can use a tool like <a href="https://css.land/lch/">LCH Colour picker</a> to adjust the LCH values.</p><p>I store those design tokens as the Sass variables so they’re not exposed in the stylesheet.</p><div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Dark Colors</span>
<span class="nv">$color-orange-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">27</span><span class="o">,</span> <span class="m">100%</span><span class="o">,</span> <span class="m">79%</span><span class="p">);</span>
<span class="nv">$color-orange-400-10</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">27</span><span class="o">,</span> <span class="m">100%</span><span class="o">,</span> <span class="m">79%</span><span class="o">,</span> <span class="mi">.1</span><span class="p">);</span>
<span class="nv">$color-orange-400-50</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">27</span><span class="o">,</span> <span class="m">100%</span><span class="o">,</span> <span class="m">79%</span><span class="o">,</span> <span class="mi">.5</span><span class="p">);</span>
<span class="nv">$color-charcoal-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0%</span><span class="o">,</span> <span class="m">2%</span><span class="p">);</span>
<span class="nv">$color-charcoal-400-10</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0%</span><span class="o">,</span> <span class="m">2%</span><span class="o">,</span> <span class="mi">.1</span><span class="p">);</span>
<span class="nv">$color-charcoal-300</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0%</span><span class="o">,</span> <span class="m">11%</span><span class="p">);</span>
<span class="nv">$color-green-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">105</span><span class="o">,</span> <span class="m">100%</span><span class="o">,</span> <span class="m">75%</span><span class="p">);</span>
<span class="nv">$color-green-400-10</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">109</span><span class="o">,</span> <span class="m">100%</span><span class="o">,</span> <span class="m">77%</span><span class="o">,</span> <span class="mi">.1</span><span class="p">);</span>
<span class="nv">$color-dirtwhite-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">60</span><span class="o">,</span> <span class="m">36%</span><span class="o">,</span> <span class="m">96%</span><span class="p">);</span>
<span class="nv">$color-dirtwhite-400-30</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">60</span><span class="o">,</span> <span class="m">36%</span><span class="o">,</span> <span class="m">96%</span><span class="o">,</span> <span class="mi">.3</span><span class="p">);</span>

<span class="c1">// Light Colors</span>
<span class="nv">$color-linen-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">30</span><span class="o">,</span> <span class="m">58%</span><span class="o">,</span> <span class="m">93%</span><span class="p">);</span>
<span class="nv">$color-linen-500</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">33</span><span class="o">,</span> <span class="m">45%</span><span class="o">,</span> <span class="m">87%</span><span class="p">);</span>
<span class="nv">$color-linen-500-10</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">33</span><span class="o">,</span> <span class="m">45%</span><span class="o">,</span> <span class="m">87%</span><span class="o">,</span> <span class="mi">.1</span><span class="p">);</span>
<span class="nv">$color-oil-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">32</span><span class="o">,</span> <span class="m">29%</span><span class="o">,</span> <span class="m">10%</span><span class="p">);</span>
<span class="nv">$color-oil-400-30</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">32</span><span class="o">,</span> <span class="m">29%</span><span class="o">,</span> <span class="m">10%</span><span class="o">,</span> <span class="mi">.3</span><span class="p">);</span>
<span class="nv">$color-darkpurple-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">266</span><span class="o">,</span> <span class="m">45%</span><span class="o">,</span> <span class="m">59%</span><span class="p">);</span>
<span class="nv">$color-darkpurple-400-10</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">266</span><span class="o">,</span> <span class="m">45%</span><span class="o">,</span> <span class="m">59%</span><span class="o">,</span> <span class="mi">.1</span><span class="p">);</span>
<span class="nv">$color-darkpurple-400-50</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">266</span><span class="o">,</span> <span class="m">45%</span><span class="o">,</span> <span class="m">59%</span><span class="o">,</span> <span class="mi">.5</span><span class="p">);</span>
<span class="nv">$color-rose-400</span><span class="p">:</span> <span class="nf">hsl</span><span class="p">(</span><span class="m">353</span><span class="o">,</span> <span class="m">54%</span><span class="o">,</span> <span class="m">55%</span><span class="p">);</span>
<span class="nv">$color-rose-400-10</span><span class="p">:</span> <span class="nf">hsla</span><span class="p">(</span><span class="m">353</span><span class="o">,</span> <span class="m">54%</span><span class="o">,</span> <span class="m">55%</span><span class="o">,</span> <span class="mi">.1</span><span class="p">);</span>
</code></pre></div></div><h2 id="set-default-theme">Set Default Theme</h2><p>With color variables ready, you can set the default theme color in <code class="language-plaintext highlighter-rouge">:root</code> by assigning them to your design tokens as CSS variables. You can have fewer or more variables depending on how you style your site. The idea is to start with some simple tokens like background, accent, and text color. I used to have a dark theme as the default, but I decided to set the light theme as the default.</p><p class="sidenote">You can’t assign Sass variable directly to CSS variable. You have to <a href="https://sass-lang.com/documentation/interpolation">interpolate the variable</a> with <code class="language-plaintext highlighter-rouge">#{}</code> to make it work with CSS built-in variables.</p><div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">:root</span> <span class="p">{</span>
	<span class="na">--theme-color-background-400</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-linen-400</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-background-500</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-linen-500</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-background-500-10</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-linen-500-10</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-accent-400</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-darkpurple-400</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-accent-400-10</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-darkpurple-400-10</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-accent-400-50</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-darkpurple-400-50</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-foreground-400</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-rose-400</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-foreground-400-10</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-rose-400-10</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-text</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-oil-400</span><span class="si">}</span><span class="p">;</span>
	<span class="na">--theme-color-shadow</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-oil-400-30</span><span class="si">}</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>You’re going to replace the colors in your CSS files with those variables. If you’ve been passing the Sass color values directly, you want to take advantage of CSS variables. Instead of writing <code class="language-plaintext highlighter-rouge">color: $theme-color-text</code>, you can write it like this:</p><div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
	<span class="nl">color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--theme-color-text</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="adding-dark-theme-support">Adding Dark Theme Support</h2><p>It’s straightforward to add dark theme support. I’m borrowing this <a href="https://ethanmarcotte.com/wrote/update-in/">technique Ethan Marcotte’s recent update</a>.</p><p>We want to assign a different color to the design tokens by using @media query to check the user device preferences. We’re will apply the dark color values when the <code class="language-plaintext highlighter-rouge">:root</code> or <code class="language-plaintext highlighter-rouge">html</code> document doesn’t have <code class="language-plaintext highlighter-rouge">data-site-theme</code> as the attribute.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></p><div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="o">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
	<span class="nd">:root:not</span><span class="o">([</span><span class="nt">data-site-theme</span><span class="o">])</span> <span class="p">{</span>
		<span class="na">--theme-color-background-400</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-charcoal-400</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-background-500</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-charcoal-300</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-background-500-10</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-charcoal-400-10</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-accent-400</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-orange-400</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-accent-400-10</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-orange-400-10</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-accent-400-50</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-orange-400-50</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-foreground-400</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-green-400</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-foreground-400-10</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-green-400-10</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-text</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-dirtwhite-400</span><span class="si">}</span><span class="p">;</span>
		<span class="na">--theme-color-shadow</span><span class="p">:</span> <span class="si">#{</span><span class="nv">$color-dirtwhite-400-30</span><span class="si">}</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>You can check if your site theme is working by emulating the dark theme with Chrome Dev Tools by pressing <code class="language-plaintext highlighter-rouge">Command-Shift-P</code> and search for “emulate dark” for the command to emulate dark theme.</p><p>It’s not enough to automatically support dark theme. The next thing you want to do is to allow readers to choose the theme they want to keep when they visit your site. I will cover this topic in a separate post.</p><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p>The custom <code class="language-plaintext highlighter-rouge">data-site-theme</code> attribute will be useful when we want to build a feature to allow users to select a specific theme. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p></ol></div></article></section><aside class="related-posts"><h5>Related Posts</h5><div class="related-box"><div class="related-card"><div class="related-date">Apr 27, 2024</div><a href="/reset-properties-css/"><div class="related-title">Resetting properties with "all" shorthand in CSS</div><div class="related-desc">Learn how the "all" keyword in CSS simplifies universal styling changes across elements, making design tweaks quicker and more efficient.</div></a><ul class="excerpt-tags"><li><a href="/tag/css">CSS</a></ul></div><div class="related-card"><div class="related-date">Aug 06, 2022</div><a href="/sort-css-prettier-sublime-text/"><div class="related-title">How to sort CSS properties with Prettier in Sublime Text</div><div class="related-desc">Learn how to install Prettier to order CSS properties automatically in Sublime Text.</div></a><ul class="excerpt-tags"><li><a href="/tag/css">CSS</a><li><a href="/tag/sublime-text">Sublime Text</a></ul></div></div></aside></main><aside class="sidebar"><div class="sticky-box"><div class="sidebar-promo form"><p><strong>Support my first digital product!</strong><br> A bundle of Keyboard Maestro macros to supercharge your workspace and get things done faster.<br><a href="/lab/tyro/">Get Tyro</a></p></div><div class="carbon-box"> <script async src="//cdn.carbonads.com/carbon.js?serve=CKYIC2JI&placement=sayzlimnet&format=cover" id="_carbonads_js"></script></div></div></aside></div><aside class="hello flow"><p> 👋 <strong>Thanks for visiting this site!</strong> Would you mind if I tell you more about what I create?</p><button onclick="toggleElement('.overlay');dismissElement('.hello')";>Sure</button> <button onclick="dismissElement('.hello')">Maybe next time</button></aside><aside class="overlay"><section class="flow"> <button id="close" onclick="dismissElement('.overlay')"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button><p> I want to show you that you don't have to be a programmer to build useful <em>programs</em> that can solve your day-to-day problems. You can delegate your jobs to your computer. You can rest while your computer works.</p><p>Enter your email address below to receive Keyboard Maestro tips every week.</p><form class="form" action="https://app.convertkit.com/forms/2056450/subscriptions" method="post" data-sv-form="2056450" data-uid="c249fe0755" data-options='{"settings":{"after_subscribe":{"action": "redirect","redirect_url": "https://sayzlim.net/welcome/"}}}' > <label for="name">First Name</label> <input type="text" value="" name="fields[first_name]" placeholder="First Name" id="name" required /> <label for="email">Email</label> <input type="email" value="" name="email_address" placeholder="Email Address" id="email" required /> <button class="subscribe">Subscribe</button> </form></section></aside><footer class="footer"> &copy; 2010–2024 Sayz Lim | Powered by <a href="https://jekyllrb.com" title="Jekyll">Jekyll</a> and <a href="https://pages.github.com" title="GitHub Pages">GitHub Pages</a></footer></div>
