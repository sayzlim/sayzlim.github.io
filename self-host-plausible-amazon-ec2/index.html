<!DOCTYPE html><html lang='en'><head prefix="og: http://ogp.me/ns/article#"><meta charset='utf-8'><title>Self-Host Plausible with Amazon EC2 Free Tier | Sayz Lim</title><meta name="description" content="Learn how you can set up Plausible on Amazon EC2 with this guide."><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="/main.css?v=1626029820" as="style"><link rel="stylesheet" href="/main.css?v=1626029820" ><link href="https://fonts.googleapis.com/css2?family=Viga&display=swap" rel="stylesheet"><link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/img/favicon-96x96.png" sizes="96x96"><link rel="apple-touch-icon" sizes="56x56" href="/img/apple-touch-icon-56x56.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><meta name="twitter:dnt" content="on"><meta name="format-detection" content="telephone=no"><link rel="alternate" type="application/rss+xml" title="Sayz Lim" href="https://sayzlim.net/atom.xml" /><meta property="og:title" content="Self-Host Plausible with Amazon EC2 Free Tier" /><meta property="og:type" content="article" /><meta property="og:url" content="https://sayzlim.net/self-host-plausible-amazon-ec2/" /><meta property="og:description" content="Learn how you can set up Plausible on Amazon EC2 with this guide." /><meta property="article:published_time" content="2021-07-04" /><meta property="article:author" content="Sayz Lim" /><meta property="og:image" content="" /><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@sayzlim"><meta name="twitter:title" content="Self-Host Plausible with Amazon EC2 Free Tier"><meta name="twitter:description" content="Learn how you can set up Plausible on Amazon EC2 with this guide."><meta name="twitter:image:src" content=""> <script async defer data-domain="sayzlim.net" src="https://stats.sayzlim.net/js/plausible.js"></script><link rel="pingback" href="https://webmention.io/sayzlim.net/xmlrpc"><link rel="webmention" href="https://webmention.io/sayzlim.net/webmention"><body><div class="container"><header class="header"><nav class="nav-item"><ul><li><a href="/">Home</a><li><a href="/posts/">Posts</a><li><a href="/tags/">Tags</a><li><a href="/tools/">Tools</a></ul></nav></header><main class="prose flow"><section class="post" itemscope itemtype="https://schema.org/BlogPosting"><header class="flow"><h1 itemprop="headline"> <a itemprop="url" href="/self-host-plausible-amazon-ec2/">Self-Host Plausible with Amazon EC2 Free Tier</a></h1><div class="post-author"><div class="post-avatar"><img src="/img/sayzlim.jpg" alt="Sayz Lim"><span class="schema-author" itemprop="author" itemprop="publisher">Sayz Lim</span></div><div> <span>Published</span> <time itemprop="datePublished" datetime="2021-07-04">Jul 04, 2021</time></div><div> <span>Tagged</span><ul class="post-tags"><li><a href="/tag/amazon-ec2">Amazon EC2</a><li><a href="/tag/plausible">Plausible</a></ul></div></div></header><article itemprop="articleBody" class="flow"><p>I decided to self-host Plausible because I want to keep the cost of maintaining this site as low as possible. So here are some resources to help you configure Plausible for free on Amazon EC2.</p><p><a href="https://plausible.io/" title="Plausible Analytics - Simple, privacy-friendly alternative to Google Analytics">Plausible</a> is lightweight and privacy-friendly analytics for people who want to see only the essential stats of their site.</p><p>If you’re not concerned with the pricing, you can subscribe to their basic plan for $6/month and track the page views up to 10k per month. Choosing this option means you can focus on growing your projects and spend less time managing the server running Plausible.</p><p>The main advantage of self-hosting Plausible is the cost. You can eliminate the cost of analytics by creating a virtual machine on the cloud. Thanks to the folks at Plausible for making the project open-source; you can easily create a free instance on Amazon EC2 and get Plausible running in hours.</p><h2 id="getting-started-with-amazon-ec2">Getting Started with Amazon EC2</h2><p><a href="https://aws.amazon.com/ec2/" title="Amazon EC2">Amazon EC2</a> is a web service that lets you create virtual machines (known as instances) in the cloud. They’re also known as <strong>Cloud Server</strong>.</p><p>Other cloud servers also offer free-tier, but I’m going to use Amazon EC2 because I’ve already used Amazon S3 for my static documents. Sign in with your Amazon account to access the dashboard.</p><p>Follow these steps to create a new instance that we will use to set up Plausible.</p><ol><li>Select “Instances” from the sidebar<li>Select “Launch Instances”<li>Enable “Free-tier only” filter in the sidebar<li>Choose Ubuntu Server 20.04 LTS (HVM) 64-bit (x86)<li>Choose the free tier option in the list<li>Select “Review and Launch” to complete the instance setup<li>Save the <code class="language-plaintext highlighter-rouge">PEM</code> certificate somewhere safe</ol><p>You’ll be asked to name the <code class="language-plaintext highlighter-rouge">PEM</code> certificate. I name the certificate as <code class="language-plaintext highlighter-rouge">aws-ubuntu</code> and save it in <code class="language-plaintext highlighter-rouge">~/.ssh</code> directory. <strong>Keep the certificate safe</strong> because you will need it whenever you want to access the server.</p><p>Before connecting to the instance you’ve just created, you need to set the inbound security rules to accept requests made to port 80 and 443. You can click on the running instance and select the <strong>Security</strong> tab under the instance summary. Next, click on the security groups and set the following inbound rules.</p><table><thead><tr><th>Type<th>Protocol<th>Port range<th>Source<tbody><tr><td>HTTP<td>TCP<td>80<td>0.0.0.0/0<tr><td>SSH<td>TCP<td>22<td>0.0.0.0/0<tr><td>HTTPS<td>TCP<td>443<td>0.0.0.0/0</table><h2 id="connecting-instance-through-ssh">Connecting Instance Through SSH</h2><p><strong>Make sure you can connect to the instance through SSH.</strong> You can follow the instructions under the “Connect” tab to get started. I personally use macOS built-in Terminal application to access the remote server.</p><p>Here’s a command you enter into Terminal with the information you copied from the “Connect” tab.</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">ssh -i "aws-ubuntu.pem" ubuntu@ec2-1-111-222-33.us-east-2.compute.amazonaws.com
</span></code></pre></div></div><p class="sidenote">The command you want to paste will look different from the one you see above. Pay attention to the name of the <code class="language-plaintext highlighter-rouge">PEM</code> certificate and the remote address to access your server.</p><h2 id="notes-on-setting-up-plausible">Notes on Setting Up Plausible</h2><p>Tyler has written a <a href="https://tinkerlog.dev/journal/self-hosting-analytics-with-plausible-and-nginx-on-ubuntu-server" title="Self hosting analytics with Plausible &amp; NGINX on Ubuntu Server | Tinker log">concise tutorial to help you setting up Plausible on a Ubuntu Server</a>. You should be able to get Plausible running if you follow each step carefully.</p><p>Here are some notes you want to pay attention to when setting up Plausible.</p><p class="sidenote">Executing commands as a root user is not exactly a best practice when it comes to managing a remote server. You usually want to set up a separate user account under the <code class="language-plaintext highlighter-rouge">sudo</code> group. However, for a personal project like this, you can skip creating a user account if you’re not comfortable with accounts management.</p><p><strong>Public IPv4 address</strong> is the IP address you want to set up as A record under the DNS configuration. For example, I access my dashboard from stats.sayzlim.net, so I will have to set the A record to point to my server’s public IP address. Make sure to set the proxy status to DNS only if you’re on CloudFlare.</p><p>Add <code class="language-plaintext highlighter-rouge">DISABLE_REGISTRATION=true</code> to <code class="language-plaintext highlighter-rouge">plausible-conf.ev</code> file to prevent people signing up a new account on your self-hosted Plausible.</p><p>Run <code class="language-plaintext highlighter-rouge">docker ps</code> to list all the active containers. Plausible will only work if those four containers are running. I spent hours debugging because I entered a wrong secret key. It turned out one of the containers will not run if the key length is not <code class="language-plaintext highlighter-rouge">Base64</code>.</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">hosting_plausible_1
hosting_plausible_events_db_1
hosting_mail_1
hosting_plausible_db_1
</span></code></pre></div></div><p>Be patient when setting up SSL certificates with certbot. Verify that the <code class="language-plaintext highlighter-rouge">server_name</code> in <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-enabled/plausible</code> has been set to the correct URL. You can verify the A record by running the <code class="language-plaintext highlighter-rouge">nslookup</code> command. For example, I will run <code class="language-plaintext highlighter-rouge">nslookup stats.sayzlim.net</code> and expect the public IP address in the result.</p><div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Server:		192.168.1.1
</span><span class="gp">Address:	192.168.1.1#</span>53
<span class="go">
Non-authoritative answer:
Name:	stats.sayzlim.net
Address: 3.143.214.18
</span></code></pre></div></div><p>Send me a Twitter DM if you encounter any problems while trying to get Plausible configured on Amazon EC2. Also, make sure to <a href="https://github.com/sponsors/plausible" title="Sponsor @plausible on GitHub Sponsors · GitHub">sponsor Plausible</a> if you’ve successfully self-hosted it on your server.</p></article></section></main><aside class="sidebar"><div class="sticky-box"> <form class="form" action="https://app.convertkit.com/forms/2056450/subscriptions" method="post" data-sv-form="2056450" data-uid="c249fe0755" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;: &quot;redirect&quot;,&quot;redirect_url&quot;: &quot;https://sayzlim.net/welcome/&quot;}}}"> <label for="name">First Name</label> <input type="text" value="" name="fields[first_name]" placeholder="First Name" id="name" required> <label for="email">Email</label> <input type="email" value="" name="email_address" placeholder="Email Address" id="email" required> <button class="subscribe">Subscribe</button> </form><div class="sidebar-promo form"><p>Download CleanMyMac X, CleanShot X, and ClearVPN and other 30++ macOS applications for only $9.99/month.<br><a href="/is-setapp-worth-it/">Read More</a></p></div><div class="carbon-box"> <script async src="//cdn.carbonads.com/carbon.js?serve=CKYIC2JI" id="_carbonads_js"></script></div></div></aside><footer class="footer"> &copy; 2010–2021 Sayz Lim | Powered by <a href="https://jekyllrb.com" title="Jekyll">Jekyll</a> and <a href="https://pages.github.com" title="GitHub Pages">GitHub Pages</a></footer></div>
