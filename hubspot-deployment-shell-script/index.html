<!DOCTYPE html><html lang='en'><head prefix="og: http://ogp.me/ns/article#"><meta charset='utf-8'><title>HubSpot Deployment Shell Script | Sayz Lim</title><meta name="description" content="Shell script to help you deploy website easily to HubSpot."><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="/main.css?v=1615803180" as="style"><link rel="stylesheet" href="/main.css?v=1615803180" ><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Viga&family=Karla:wght@300;400;500;600&display=swap" rel="stylesheet"><link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/img/favicon-96x96.png" sizes="96x96"><link rel="apple-touch-icon" sizes="56x56" href="/img/apple-touch-icon-56x56.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><meta name="twitter:dnt" content="on"><meta name="format-detection" content="telephone=no"><link rel="alternate" type="application/rss+xml" title="Sayz Lim" href="https://sayzlim.net/atom.xml" /><meta property="og:title" content="HubSpot Deployment Shell Script" /><meta property="og:type" content="article" /><meta property="og:url" content="https://sayzlim.net/hubspot-deployment-shell-script/" /><meta property="og:description" content="Shell script to help you deploy website easily to HubSpot." /><meta property="article:published_time" content="2022-05-14" /><meta property="article:author" content="Sayz Lim" /><meta property="og:image" content="" /><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@sayzlim"><meta name="twitter:title" content="HubSpot Deployment Shell Script"><meta name="twitter:description" content="Shell script to help you deploy website easily to HubSpot."><meta name="twitter:image:src" content=""><link rel="pingback" href="https://webmention.io/sayzlim.net/xmlrpc"><link rel="webmention" href="https://webmention.io/sayzlim.net/webmention"><body><div class="container"><header class="header"><nav class="nav-item"><ul><li><a href="/">Home</a><li><a href="/posts/">Posts</a><li><a href="/tags/">Tags</a><li><a href="/tools/">Tools</a></ul></nav></header><main class="prose flow"><section class="post" itemscope itemtype="https://schema.org/BlogPosting"><header class="flow"><h1 itemprop="headline"> <a itemprop="url" href="/hubspot-deployment-shell-script/">HubSpot Deployment Shell Script</a></h1><div class="post-author"><div class="post-avatar"><img src="/img/sayzlim.jpg" alt="Sayz Lim"><span class="schema-author" itemprop="author" itemprop="publisher">Sayz Lim</span></div><div class="post-date"> <span>Published</span> <time itemprop="datePublished" datetime="2022-05-14">May 14, 2022</time></div><div class="post-tag"> <span>Tagged</span><ul class="post-tags"><li><a href="/tag/hubspot">HubSpot</a><li><a href="/tag/shell-script">Shell Script</a></ul></div></div></header><article itemprop="articleBody" class="flow"><p>I started building and managing websites with HubSpot recently because it offers the flexibility to allow other team members, especially those who are in the marketing team, to create and customize a landing page.</p><p>Instead of following recommended deployment method by HubSpot, I need to find a way to make the development process seamless while also allowing the rest of the team members to make changes in the Design Tools. It means that the rest of the team members don’t have to use version control if they prefer to update the code directly.</p><p>I decided to write a shell script that allows me to choose which folder to fetch, upload, and watch. Here is the content of the shell script:</p><div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env zsh</span>

<span class="c"># List of projects in their respective folder</span>
<span class="c"># "folder_paths" is a dictionary, you can add more folders</span>
<span class="c"># if you need to specify a different project to watch.</span>
<span class="nb">declare</span> <span class="nt">-A</span> folder_paths

folder_paths[root]<span class="o">=</span><span class="s2">"Default/"</span>
folder_paths[carbon]<span class="o">=</span><span class="s2">"Templates/Carbon/"</span>
folder_paths[publishers]<span class="o">=</span><span class="s2">"Templates/Publishers/"</span>

<span class="c"># Default Options</span>
<span class="nv">portal</span><span class="o">=</span><span class="k">${</span><span class="nv">portal</span><span class="k">:-</span><span class="nv">DEV</span><span class="k">}</span>
<span class="nv">project</span><span class="o">=</span><span class="k">${</span><span class="nv">project</span><span class="k">:-</span><span class="nv">root</span><span class="k">}</span>
<span class="nv">action</span><span class="o">=</span><span class="k">${</span><span class="nv">action</span><span class="k">:-</span><span class="nv">watch</span><span class="k">}</span>

<span class="k">while</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-gt</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">do
   if</span> <span class="o">[[</span> <span class="nv">$1</span> <span class="o">==</span> <span class="k">*</span><span class="s2">"--"</span><span class="k">*</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
        </span><span class="nv">param</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">1</span><span class="p">/--/</span><span class="k">}</span><span class="s2">"</span>
        <span class="nb">declare</span> <span class="nv">$param</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
        <span class="c"># echo $1 $2 // Optional to see the parameter:value result</span>
   <span class="k">fi
  </span><span class="nb">shift
</span><span class="k">done</span>

<span class="c"># Main Commands</span>
<span class="nb">echo</span> <span class="s2">"[Working Portal] : </span><span class="se">\"</span><span class="s2">"</span><span class="k">${</span><span class="nv">portal</span><span class="k">}</span> <span class="s2">"portal"</span><span class="se">\"</span>
<span class="nb">echo</span> <span class="s2">"[Selected Folder] : </span><span class="se">\"</span><span class="k">${</span><span class="nv">folder_paths</span><span class="p">[</span><span class="k">${</span><span class="nv">project</span><span class="k">}</span><span class="p">]</span><span class="k">}</span><span class="se">\"</span><span class="s2">"</span>
hs <span class="k">${</span><span class="nv">action</span><span class="k">}</span> <span class="nt">--account</span><span class="o">=</span><span class="k">${</span><span class="nv">portal</span><span class="k">}</span> <span class="s2">"</span><span class="k">${</span><span class="nv">folder_paths</span><span class="p">[</span><span class="k">${</span><span class="nv">project</span><span class="k">}</span><span class="p">]</span><span class="k">}</span><span class="s2">"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">folder_paths</span><span class="p">[</span><span class="k">${</span><span class="nv">project</span><span class="k">}</span><span class="p">]</span><span class="k">}</span><span class="s2">"</span>
</code></pre></div></div><h2 id="how-it-works">How It Works</h2><p>For example, if I need to upload the changes I made to the Carbon website, I can run this command:</p><div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zsh deploy.sh <span class="nt">--action</span> upload <span class="nt">--portal</span> PROD <span class="nt">--project</span> carbon
</code></pre></div></div><p>The available commands are based on <a href="https://developers.hubspot.com/docs/cms/developer-reference/local-development-cli" title="Local Development Tooling: CLI Reference">HubSpot CLI</a>. You can also run other commands such as <code class="language-plaintext highlighter-rouge">--action watch</code> if you wish to watch and preview the changes you’ve made locally on the staging or production.</p><p>I want to share why this shell script is important in the daily workflow. When it comes to the business, we need to be able to prioritize. If you’re like me, you probably want to follow the best practice to deploy changes to the production website. However, there are other factors to take into consideration.</p><ul><li>The team members must be able to make changes using HubSpot Design Tools without waiting for developers.<li>Developers must be able to use keep the version history of the changes they’ve made to the project.<li>Several developers should still be able to collaborate through the shared remote repository.</ul><p>Although it’s ideal to set up Continuous Integration with the GitHub repository, I feel that creating a simple shell script above can accommodate the current needs of the business where we need the flexibility from both marketers and developers to push updates quickly.</p><p>One thing I’ve learned from being on the side of “not” working with codes and working with codes directly is to choose the most efficient and resilient method when it comes to solving a problem.</p></article></section></main><aside class="sidebar"><div class="sticky-box"> <form class="form" action="https://app.convertkit.com/forms/2056450/subscriptions" method="post" data-sv-form="2056450" data-uid="c249fe0755" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;: &quot;redirect&quot;,&quot;redirect_url&quot;: &quot;https://sayzlim.net/welcome/&quot;}}}"> <label for="name">First Name</label> <input type="text" value="" name="fields[first_name]" placeholder="First Name" id="name" required> <label for="email">Email</label> <input type="email" value="" name="email_address" placeholder="Email Address" id="email" required> <button class="subscribe">Subscribe</button> </form><div class="sidebar-promo form"><p>Download CleanMyMac X, CleanShot X, and ClearVPN and other 30++ macOS applications for only $9.99/month.<br><a href="/is-setapp-worth-it/">Read More</a></p></div><div class="carbon-box"> <script async src="//cdn.carbonads.com/carbon.js?serve=CKYIC2JI" id="_carbonads_js"></script></div></div></aside><footer class="footer"> &copy; 2010–2022 Sayz Lim | Powered by <a href="https://jekyllrb.com" title="Jekyll">Jekyll</a> and <a href="https://pages.github.com" title="GitHub Pages">GitHub Pages</a></footer></div>
